# 현재 화면별 메뉴 구조 및 수정 필요 사항

## 작성 일자
2025-12-08

---

## 1. 관리자 화면 (admin-dashboard.html)

### 현재 메뉴 구조

#### 대시보드
- `dashboard` - 대시보드

#### 논문 안내
- `notice` - 공지사항
- `board` - 자료실
- `ethics` - 연구윤리
- `schedule` - 논문일정
- `process` - 논문지도절차

#### 논문 제출
- `requirementManagement` - 논문 제출 요건 등록
- `titleChangeRequests` - 최종 논문 제목 등록

#### 논문 지도
- `weeklyGuidance` - 주차별 논문지도 현황
- `guidanceProgress` - 논문 지도 현황

#### 논문 심사
- `evaluationCriteria` - 심사 기준 등록
- `stageManagement` - 심사 단계 등록
- `thesisReview` - 학위 논문 심사
- `journalReview` - 학술지 논문 심사

#### 시스템 설정
- `userManagement` - 사용자 관리
- `permissionManagement` - 권한 관리
- `scheduleManagement` - 일정 관리
- `noticeManagement` - 안내문 관리

---

### 수정 필요 사항

#### 1. 사용자 관리 (`userManagement`)
**현재 상태**: 메뉴 존재, 화면 구현 상태 확인 필요

**추가/수정 필요 기능**:
- [ ] ERP 사용자 동기화 버튼
  - 위치: 화면 상단 우측
  - 기능: 수동 동기화 실행 + 진행상태 표시
  - 완료 시: 동기화 결과 요약 (신규/업데이트/삭제 건수)

- [ ] 사용자 목록 테이블
  - 필터: 구분(학생/교수/직원), 부서, 신분, 학적상태
  - 컬럼: 이름, 학번/사번, 부서, 신분, 학적상태, 논문과정선택여부, 최종동기화일시
  - 정렬: 이름, 부서, 최종동기화일시
  - 페이지네이션

- [ ] 동기화 이력 조회
  - 위치: 별도 탭 또는 하단 섹션
  - 컬럼: 동기화일시, 유형(자동배치/수동), 결과, 처리건수

#### 2. 권한 관리 (`permissionManagement`)
**현재 상태**: 메뉴 존재, 화면 구현 상태 확인 필요

**추가/수정 필요 기능**:
- [ ] 권한 설정 매트릭스
  - 좌측: 메뉴 트리 구조
  - 상단: 부서/신분 탭
  - 매트릭스: 조회(R) 체크박스 (CUD는 후순위)
  - 일괄 저장 버튼

- [ ] 개인별 예외 권한
  - 사용자 검색
  - 해당 사용자의 메뉴 권한 개별 설정
  - 기본 권한과 구분하여 표시

#### 3. 시스템 설정 > 신규 메뉴 추가
**추가 필요**: `userSupport` - 사용자 지원 (대리 로그인)

**필요 화면**:
- [ ] 사용자 검색 섹션
  - 검색: 이름, 학번/사번
  - 구분 필터: 학생/교수
  - 검색 결과 목록

- [ ] 대리 로그인 실행
  - 선택한 사용자의 화면으로 이동
  - 상단에 "관리자로 접속 중" 배너 표시
  - "원래 계정으로 돌아가기" 버튼

- [ ] 대리 로그인 이력
  - 컬럼: 일시, 관리자, 대상사용자, 접속시간, 종료시간

#### 4. 논문 제출 > 신규 화면 필요
**추가 필요**: 연구계획서 관리 (교수 배정)

**필요 화면**:
- [ ] 연구계획서 제출 현황
  - 필터: 학과, 학기, 배정상태(전체/대기/완료)
  - 컬럼: 학생명, 학번, 학과, 제출일, 연구주제, 배정상태, 배정교수, 관리
  - 관리: "교수 배정" 버튼

- [ ] 교수 배정 모달
  - 학생 정보 표시
  - 연구계획서 내용 미리보기
  - 주지도교수 검색 및 선택 (1명)
    - 기본: 해당 학과 전임교원 우선 표시
    - 검색: 이름, 소속, 전공분야
    - 필터: 소속 학과, 타과 포함
  - 공동지도교수 검색 및 선택 (N명, 선택사항)
    - 체크박스 다중 선택
  - 저장 버튼

#### 5. 논문 심사 > 수정 필요
**수정 대상**: `thesisReview`, `journalReview`

**추가 필요 기능**:
- [ ] 심사위원 배정 기능
  - 심사 대상 학생 목록
  - 각 학생별 "심사위원 배정" 버튼

- [ ] 심사위원 배정 모달
  - 학생 정보 표시
  - 학위 구분: 석사(3명) / 박사(5명)
  - 심사위원장 선택 (라디오 버튼, 1명)
  - 심사위원 선택 (체크박스, N명, 지도교수 자동 포함)
  - 교수 검색 기능
  - 저장 버튼

- [ ] 심사 결과 조회 및 판정
  - 심사 진행 현황 (위원별 점수 입력 상태)
  - 위원별 점수 및 의견 표시
  - 자동 판정 결과 표시
    - 석사: 3명 중 2명 이상 70점 이상 → 통과
    - 박사: 5명 중 3명 이상 70점 이상 → 통과
  - 최종 판정 (심사위원장 승인 후)
    - 드롭다운: 통과/보완 후 통과/보류/불합격
    - 의견 입력
    - 승인 버튼

#### 6. 심사 기준 등록 (`evaluationCriteria`)
**현재 상태**: 메뉴 존재, 화면 확인 필요

**확인/수정 필요**:
- [ ] 평가표 유형 선택
  - 점수형 (100점 만점) - 우선 구현
  - P/F형 (합격/불합격) - 우선 구현
  - 등급형 (A~F) - 후순위 제외 가능

- [ ] 평가표 구성
  - 평가 항목 추가/수정/삭제
  - 항목별 배점 (점수형인 경우)
  - 항목별 설명

#### 7. 심사 단계 등록 (`stageManagement`)
**현재 상태**: 메뉴 존재, 기능 일부 구현됨

**확인 필요**:
- [ ] 학과별 워크플로우 설정 기능 존재 여부
- [ ] 단계 유형 설정 (평가 대상 vs 단순 제출)
- [ ] 평가표 적용 여부 드롭다운

**추가 필요**:
- [ ] 학생별 워크플로우 부여 화면 (별도 메뉴 추가?)
  - 학생 목록 (체크박스)
  - 워크플로우 선택 드롭다운
  - 일괄 부여 버튼

- [ ] 학생별 단계 이관 화면
  - 현재 단계 표시
  - 다음 단계로 이관 버튼
  - 이관 조건 체크 (심사 완료 등)
  - 일괄 이관 기능

#### 8. 일정 관리 (`scheduleManagement`)
**현재 상태**: 메뉴 존재

**수정 필요**:
- [ ] 학과별 일정 관리 기능 제거 또는 숨김
- [ ] 본부(학교) 공통 일정만 관리
  - 논문 심사 신청 기간 설정
  - 학기별 주요 일정

---

## 2. 교수 화면 (professor-dashboard.html)

### 현재 메뉴 구조

#### 대시보드
- `dashboard` - 대시보드

#### 논문 안내
- `notice` - 공지사항
- `board` - 자료실
- `ethics` - 연구윤리
- `schedule` - 논문일정
- `process` - 논문지도절차

#### 논문 제출
- `submission-requirements` - 논문 제출 요건 등록
- `title-management` - 최종 논문 제목 등록

#### 논문 지도
- `guidance` - 주차별 논문지도 현황
- `feedback` - 논문 지도 현황
- `meeting` - 실시간 지도 예약

#### 논문 심사
- `evaluation-criteria` - 심사 기준 등록
- `workflow` - 심사 단계 등록
- `review` - 학위 논문 심사
- `journal-review` - 학술지 논문 심사

#### 시스템 설정
- (메뉴 확인 필요)

---

### 수정 필요 사항

#### 1. 대시보드 (`dashboard`)
**수정 필요**:
- [ ] 지도 학생 미배정 시 안내 화면
  - 조건: 지도 학생 목록이 비어있을 때
  - 표시: "현재 배정된 지도 학생이 없습니다" 메시지
  - 접근 가능: 논문 안내 메뉴는 계속 사용 가능

#### 2. 논문 심사 > 신규 기능 추가
**추가 필요**: 심사위원 점수 입력 화면

- [ ] 심사 대상 목록
  - 조건: 본인이 심사위원으로 배정된 학생
  - 컬럼: 학생명, 학번, 학위구분, 심사유형, 제출일, 점수입력상태
  - 필터: 학위구분, 심사유형, 점수입력상태

- [ ] 점수 입력 화면
  - 학생 정보 표시
  - 제출 논문 다운로드/미리보기
  - 평가 항목별 점수 입력
  - 총점 자동 계산 (100점 만점)
  - 종합 의견 입력 (텍스트)
  - 임시저장/제출 버튼

#### 3. 심사위원장 전용 기능
**추가 필요**: 최종 판정 승인

- [ ] 최종 판정 화면
  - 조건: 본인이 심사위원장인 경우
  - 모든 심사위원 점수 및 의견 확인
  - 자동 판정 결과 확인
  - 최종 판정 선택
    - 드롭다운: 통과/보완 후 통과/보류/불합격
  - 종합 의견 입력
  - 최종 승인 버튼

#### 4. 권한별 메뉴 동적 제어
**추가 필요**: 재직상태에 따른 메뉴 노출

- [ ] 로그인 시 재직상태 확인
- [ ] 퇴직/휴직 시: 읽기 전용 모드 or 접근 차단 (정책 확정 필요)

---

## 3. 학생 화면 (student-dashboard.html)

### 현재 메뉴 구조

#### 대시보드
- `dashboard` - 대시보드

#### 논문 안내
- `notice` - 공지사항
- `board` - 자료실
- `ethics` - 연구윤리
- `schedule` - 논문일정
- `process` - 논문지도절차

#### 논문 제출
- `review` - 학위논문 제출
- `journal-submission` - 학술지 논문 제출
- `title-change` - 최종 논문 제목 등록

#### 논문 지도
- `guidance` - 학기별 논문 지도 현황
- `feedback` - 온라인 피드백
- `meeting` - 실시간 지도 예약

---

### 수정 필요 사항

#### 1. 로그인 제어
**추가 필요**: 접근 제어 로직

- [ ] ERP 연동 데이터 확인
  - 논문과정 선택 여부 체크
  - 논문과정 미선택 시: 접근 차단 + 안내 메시지

- [ ] 학적상태 확인
  - 휴학/수료/졸업 등: 정책에 따라 차단 or 읽기전용
  - 정책 확정 필요

#### 2. 대시보드 (`dashboard`)
**수정 필요**:
- [ ] 지도교수 미배정 시 안내
  - 조건: 지도교수가 배정되지 않았을 때
  - 표시: 안내 메시지 + 연구계획서 제출 가이드
  - 링크: 연구계획서 제출 화면으로 이동

- [ ] 현재 진행 단계 표시
  - 워크플로우 단계 진행바
  - 현재 단계 명칭 및 설명
  - 다음 단계 안내

#### 3. 논문 제출 > 신규 화면 필요?
**확인 필요**: 연구계획서 제출 화면

- [ ] 현재 구현 상태 확인
- [ ] 없다면 추가 필요:
  - 연구 주제 입력
  - 연구 계획서 업로드
  - 제출 버튼
  - 제출 후 상태: 교수 배정 대기

#### 4. 심사 결과 조회
**추가 필요**: 심사 진행 및 결과 확인

- [ ] 심사 진행 상태
  - 단계: 심사위원 배정 → 심사 진행중 → 심사 완료
  - 진행바 표시

- [ ] 심사 결과
  - 최종 판정 결과 표시
  - 심사위원 의견 (익명 여부는 정책 확정 필요)

#### 5. 메뉴 동적 제어
**추가 필요**: 진행 단계에 따른 메뉴 활성화

- [ ] 현재 워크플로우 단계 확인
- [ ] 해당 단계의 메뉴만 활성화
- [ ] 이전 단계: 조회 가능
- [ ] 다음 단계: 비활성화 (회색 처리)

---

## 4. 공통 수정 사항

### 4.1 UI/UX 개선
- [ ] 테이블 가로 스크롤 허용
  - 적용 대상: 컬럼이 많은 모든 테이블
  - 카드/리스트 형태 검토

### 4.2 백엔드 연동 필요
- [ ] ERP View 테이블 연동
- [ ] SSO 로그인 연동
- [ ] 권한 체크 미들웨어
- [ ] 배치 동기화 스케줄러

---

## 5. 파일별 수정 위치

### 5.1 관리자 화면
**파일**: `admin/admin-dashboard.html`

**수정 위치**:
- HTML: 사이드바 메뉴 추가 (`userSupport`)
- JavaScript: 각 화면별 렌더링 함수 추가/수정

**신규 파일 필요**:
- `admin/admin_user_sync.js` - 사용자 동기화
- `admin/admin_user_support.js` - 사용자 지원 (대리 로그인)
- `admin/admin_professor_assignment.js` - 교수 배정
- `admin/admin_workflow_assignment.js` - 워크플로우 부여/이관
- `admin/admin_reviewer_assignment.js` - 심사위원 배정
- `admin/admin_review_judgment.js` - 심사 결과 판정

### 5.2 교수 화면
**파일**: `professor/professor-dashboard.html`

**수정 위치**:
- 대시보드: 미배정 안내 처리
- JavaScript: 심사 점수 입력 기능 추가

**신규 파일 필요**:
- `professor/assets/js/review-score.js` - 심사 점수 입력
- `professor/assets/js/review-judgment.js` - 최종 판정 (심사위원장)

### 5.3 학생 화면
**파일**: `student/student-dashboard.html`

**수정 위치**:
- 로그인 제어: SSO 연동 로직
- 대시보드: 안내 메시지, 진행 단계 표시
- 메뉴 제어: 동적 활성화/비활성화

**신규 파일 필요**:
- `student/assets/js/research-proposal.js` - 연구계획서 제출 (확인 필요)
- `student/assets/js/review-result.js` - 심사 결과 조회

---

## 다음 단계

1. ✅ 현재: 현재 메뉴 구조 및 수정 필요 사항 정리 완료
2. ⏭️ 다음: 우선순위별 상세 기능 명세 작성
3. ⏭️ 이후: 화면 와이어프레임 작성 (필요시)
4. ⏭️ 최종: 개발 일정 수립 및 작업 착수

---

## 변경 이력
- 2025-12-08: 초안 작성 (현재 메뉴 구조 및 수정 대상 정리)
